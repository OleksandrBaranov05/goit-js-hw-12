{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '51538469-8b3be560c440e4726340ee2f6';\n\nexport async function getImagesByQuery(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  const response = await axios.get(BASE_URL, { params });\n  return response.data;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst loaderWrapper = document.querySelector('.loader-wrapper');\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function renderImages(images, gallery) {\n  const markup = createMarkup(images);\n  gallery.insertAdjacentHTML('beforeend', markup);\n  hideLoader();\n  lightbox.refresh();\n}\n\nexport function clearGallery(gallery) {\n  gallery.innerHTML = '';\n}\n\nexport const showLoader = () => {\n  if (loaderWrapper) {\n    loaderWrapper.classList.remove('is-hidden');\n  }\n};\n\nexport const hideLoader = () => {\n  if (loaderWrapper) {\n    loaderWrapper.classList.add('is-hidden');\n  }\n};\n\nfunction createMarkup(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\" class=\"gallery-link\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" />\n        </a>\n        <div class=\"image-info\">\n          <div class=\"image-info-item\"><b>Likes</b><span>${likes}</span></div>\n          <div class=\"image-info-item\"><b>Views</b><span>${views}</span></div>\n          <div class=\"image-info-item\"><b>Comments</b><span>${comments}</span></div>\n          <div class=\"image-info-item\"><b>Downloads</b><span>${downloads}</span></div>\n        </div>\n      </li>\n    `\n    )\n    .join('');\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  clearGallery,\n  renderImages,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nfunction init() {\n  const form = document.querySelector('.form');\n  const gallery = document.querySelector('.gallery');\n\n  if (!form || !gallery) {\n    console.error('Form or gallery element not found');\n    return;\n  }\n\n  form.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    const query = form.elements['search-text'].value.trim();\n    if (!query) {\n      iziToast.info({\n        message: 'Please enter a search term.',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    clearGallery(gallery);\n    showLoader();\n\n    try {\n      const data = await getImagesByQuery(query);\n\n      if (!data.hits.length) {\n        iziToast.warning({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      renderImages(data.hits, gallery);\n    } catch (error) {\n      iziToast.error({\n        message: 'Something went wrong. Please try again later.',\n        position: 'topRight',\n      });\n    } finally {\n      hideLoader();\n    }\n  });\n}\n\ninit();\n"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","params","axios","loaderWrapper","lightbox","SimpleLightbox","renderImages","images","gallery","markup","createMarkup","hideLoader","clearGallery","showLoader","webformatURL","largeImageURL","tags","likes","views","comments","downloads","init","form","event","iziToast","data"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,eAAeC,EAAiBC,EAAO,CAC5C,MAAMC,EAAS,CACb,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAGE,OADiB,MAAME,EAAM,IAAIL,EAAU,CAAE,OAAAI,CAAM,CAAE,GACrC,IAClB,CCbA,MAAME,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAaC,EAAQC,EAAS,CAC5C,MAAMC,EAASC,EAAaH,CAAM,EAClCC,EAAQ,mBAAmB,YAAaC,CAAM,EAC9CE,IACAP,EAAS,QAAO,CAClB,CAEO,SAASQ,EAAaJ,EAAS,CACpCA,EAAQ,UAAY,EACtB,CAEO,MAAMK,EAAa,IAAM,CAC1BV,GACFA,EAAc,UAAU,OAAO,WAAW,CAE9C,EAEaQ,EAAa,IAAM,CAC1BR,GACFA,EAAc,UAAU,IAAI,WAAW,CAE3C,EAEA,SAASO,EAAaH,EAAQ,CAC5B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAO,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,mBAEOL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,2DAGWC,CAAK;AAAA,2DACLC,CAAK;AAAA,8DACFC,CAAQ;AAAA,+DACPC,CAAS;AAAA;AAAA;AAAA,KAInE,EACA,KAAK,EAAE,CACZ,CC/CA,SAASC,GAAO,CACd,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCd,EAAU,SAAS,cAAc,UAAU,EAEjD,GAAI,CAACc,GAAQ,CAACd,EAAS,CACrB,QAAQ,MAAM,mCAAmC,EACjD,MACD,CAEDc,EAAK,iBAAiB,SAAU,MAAMC,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMvB,EAAQsB,EAAK,SAAS,aAAa,EAAE,MAAM,OACjD,GAAI,CAACtB,EAAO,CACVwB,EAAS,KAAK,CACZ,QAAS,8BACT,SAAU,UAClB,CAAO,EACD,MACD,CAEDZ,EAAaJ,CAAO,EACpBK,IAEA,GAAI,CACF,MAAMY,EAAO,MAAM1B,EAAiBC,CAAK,EAEzC,GAAI,CAACyB,EAAK,KAAK,OAAQ,CACrBD,EAAS,QAAQ,CACf,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CAEDlB,EAAamB,EAAK,KAAMjB,CAAO,CAChC,MAAe,CACdgB,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,UAClB,CAAO,CACP,QAAc,CACRb,GACD,CACL,CAAG,CACH,CAEAU,EAAM"}